# Домашнее задание к занятию «3.1. Исключения»

Выполненное задание прикрепите ссылкой на ваши GitHub-проекты в личном кабинете студента на сайте [netology.ru](https://netology.ru).

**Важно**: ознакомьтесь со ссылками на главной странице [репозитория с домашними заданиями](../README.md).

Если у вас что-то не получилось, оформлите Issue. [Шаблон для оформления](../report-requirements.md).

Нужно сделать все задачи в **одном** репозитории.

## Как сдавать задачи

1. Создайте на вашем компьютере Gradle-проект.
1. Инициализируйте в нём пустой Git-репозиторий.
1. Добавьте в него готовый файл [.gitignore](../.gitignore).
1. Добавьте в этот же каталог остальные необходимые файлы.
1. Сделайте коммиты.
1. Создайте публичный репозиторий на GitHub и свяжите свой локальный репозиторий с удалённым.
1. Сделайте пуш и удостоверьтесь, что ваш код появился на GitHub.
1. Ссылку на ваш проект прикрепите в личном кабинете на сайте [netology.ru](https://netology.ru).
1. В этом задании есть необязательные задачи. Их можно не сдавать. Это не повлияет на зачёт.

## Задача №1.`PostNotFoundException`

Давайте разберёмся, как внедрить в сервис с постами возможность комментирования.

Нужно добавить метод `createComment` в `WallService`:

```kotlin
class WallService {
    private var posts = emptyArray<Post>()
    private var comments = emptyArray<Comment>()

    fun createComment(postId: Int, comment: Comment): Comment {
        TODO()
    }
}
```

Функция сначала должна проверить, существует ли в массиве `posts` пост с id равным `postId`. Если существует, то добавить комментарий в массив `comments` и вернуть только что добавленный комментарий.

Если не существует, выкинуть исключение `PostNotFoundException`.

Спроектировать класс для комментариев вам нужно самостоятельно на базе описания типа [Comment](https://vk.com/dev/objects/comment). Есть [сохранённая копия](assets/comment.pdf).

Итог: у вас должен быть репозиторий на GitHub, в котором расположен ваш Gradle-проект.

## Задача №2. JUnit

Напишите два теста на созданную функцию:
1. Функция отрабатывает правильно, если добавляется комментарий к правильному посту.
1. Функция выкидывает исключение, если была попытка добавить комментарий к несуществующему посту.

Вот как протестировать, что какой-то код выкидывает исключение:

```kotlin
@Test(expected = PostNotFoundException::class)
fun shouldThrow() {
    // здесь код с вызовом функции, которая должна выкинуть PostNotFoundException
}
```

При этом assert в конце теста не нужен. Достаточно сделать вызов функции, которая должна выкинуть исключение.

**Важно**: после ваших обновлений `WallService` должна оставаться функциональной, т.е. автотесты должны проходить.

Итог: у вас должен быть репозиторий на GitHub, в котором расположен ваш Gradle-проект. Автотесты также должны храниться в репозитории.

## Задача №3. Жалобы*

**Важно**: это не обязательная задача. Её выполнение не влияет на зачёт по ДЗ.

Внедрите [функцию для уведомления о негативных комментариях](https://vk.com/dev/wall.reportComment). Есть [сохранённая копия](assets/wall.reportComment.pdf).

Что нужно сделать:
1. Реализовать саму функцию (для простоты храните эти репорты в отдельном массиве).
1. Подумать, в каких случаях и какие нужно выкидывать исключения*.
1. Написать автотесты.

<details>
<summary>Подсказка*</summary>

Обратите внимание, что неверным может быть не только id комментария, но и причина.
</details>

**Важно**: после ваших обновлений `WallService` должна оставаться функциональной, т.е. автотесты должны проходить.

Итог: у вас должен быть репозиторий на GitHub, в котором расположен ваш Gradle-проект. Автотесты также должны храниться в репозитории.
