# Домашнее задание к занятию «3.1. Исключения»

В качестве результата пришлите ссылки на ваши GitHub-проекты в личном кабинете студента на сайте [netology.ru](https://netology.ru).

**Важно**: ознакомьтесь со ссылками, представленными на главной странице [репозитория с домашними заданиями](../README.md).

**Важно**: если у вас что-то не получилось, то оформляйте Issue [по установленным правилам](../report-requirements.md).

**Важно**: нужно сделать все задачи в **одном** репозитории.

## Как сдавать задачи

1. Создайте на вашем компьютере Gradle-проект
1. Инициализируйте в нём пустой Git-репозиторий
1. Добавьте в него готовый файл [.gitignore](../.gitignore)
1. Добавьте в этот же каталог остальные необходимые файлы
1. Сделайте необходимые коммиты
1. Создайте публичный репозиторий на GitHub и свяжите свой локальный репозиторий с удалённым
1. Сделайте пуш (удостоверьтесь, что ваш код появился на GitHub)
1. Ссылку на ваш проект отправьте в личном кабинете на сайте [netology.ru](https://netology.ru)
1. Задачи, отмеченные, как необязательные, можно не сдавать, это не повлияет на получение зачета (в этом ДЗ все задачи являются обязательными)

## Задача №1 - `PostNotFoundException`

Мы продолжаем развивать наш сервис с постами и решили внедрить в него возможность комментирования постов: [createComment](https://vk.com/dev/wall.createComment)*.

Примечание*: по традиции есть [сохранённая версия](assets/wall.createComment.pdf)

В чём суть? Вы создаёте member function внутри `WallService`:

```kotlin
class WallService {
    private var posts = emptyArray<Post>()
    private var comments = emptyArray<Comment>()

    fun createComment(comment: Comment) {
        TODO()
    }
}
```

Как работает эта функция: она сначала проверяет, существует ли в массиве `posts` пост с id равным тому, что в комментарии в свойстве `postId`. Если существует, то добавляет комментарий в массив `comments`.

А вот если не существует - выкидывает исключение `PostNotFoundException`.

Спроектировать класс для комментариев вам нужно самостоятельно на базе описания типа [Comment](https://vk.com/dev/objects/comment). По традиции, есть [сохранённая копия](assets/comment.pdf).

Итого: у вас должен быть репозиторий на GitHub, в котором расположен ваш Gradle-проект с кодом.

## Задача №2 - JUnit

Как вы уже знаете - без тестов никуда. А это значит, что нам нужно написать целых два теста на созданную нами функцию:
1. Функция отрабатывает правильно, если мы добавляем комментарий к правильному посту
1. Функция выкидывает исключение, если мы пытаемся добавить комментарий к несуществующему посту

Тестировать, что какой-то код выкидывает исключение, достаточно просто:

```kotlin
@Test(expected = PostNotFoundException::class)
fun shouldThrow() {
    // здесь код с вызовом функции, которая должна выкинуть PostNotFoundException
}
```

**Важно**: после ваших обновлений, функциональность `WallService` должна оставаться работоспособной (т.е. автотесты должны проходить).

Итого: у вас должен быть репозиторий на GitHub, в котором расположен ваш Gradle-проект с кодом (включая автотесты).

## Задача №3 - Жалобы*

**Важно**: это не обязательная задача. Её выполнение не влияет на получение зачёта по ДЗ.

В социальных сетях есть разные люди, которые оставляют разные комментарии.

Неплохо бы внедрить [функцию для уведомления о нехороших комментариях](https://vk.com/dev/wall.reportComment). По традиции, есть [сохранённая копия](assets/wall.reportComment.pdf).

Что нужно сделать:
1. Реализовать саму функцию (для простоты храните эти репорты в отдельном массиве)
1. Подумать в каких случаях и какие нужно выкидывать исключения*
1. Написать автотесты

<details>
<summary>Подсказка*</summary>

Обратите внимание, что неверным может быть не только id комментария, но и причина.
</details>

**Важно**: после ваших обновлений, функциональность `WallService` должна оставаться работоспособной (т.е. автотесты должны проходить).

Итого: у вас должен быть репозиторий на GitHub, в котором расположен ваш Gradle-проект с кодом (включая автотесты).
